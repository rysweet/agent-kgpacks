{"id": "al_001", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What is Azure Lighthouse and what primary capability does it enable?", "ground_truth": "Azure Lighthouse is a service that enables cross-tenant management, allowing service providers to manage customer Azure resources at scale while maintaining security and control. It enables delegated resource management across multiple customer tenants from a single service provider tenant.", "source": "core_concept"}
{"id": "al_002", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What is delegated resource management in Azure Lighthouse?", "ground_truth": "Delegated resource management allows customers to grant service providers access to manage their Azure resources without sharing credentials. The service provider can manage customer resources directly from their own tenant while maintaining a clear audit trail.", "source": "delegated_resource_management"}
{"id": "al_003", "domain": "azure_lighthouse", "difficulty": "easy", "question": "Which Azure service is used to define and manage user identities and permissions in Azure Lighthouse?", "ground_truth": "Azure Active Directory (AAD) is used to define and manage user identities and permissions. AAD provides the authentication and authorization mechanisms that control who can access delegated customer resources.", "source": "authentication"}
{"id": "al_004", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What is a managed services offer in the context of Azure Lighthouse?", "ground_truth": "A managed services offer is a service provider's offer published in Azure Marketplace that enables customers to delegate management of their resources. It specifies the service provider's permissions, access scope, and the Azure Active Directory users authorized to manage the customer's resources.", "source": "managed_services_offer"}
{"id": "al_005", "domain": "azure_lighthouse", "difficulty": "easy", "question": "Where can service providers publish managed services offers to make them available to customers?", "ground_truth": "Service providers publish managed services offers on Azure Marketplace. This allows potential customers to discover and accept the offer, automatically setting up the delegated resource management relationship.", "source": "azure_marketplace"}
{"id": "al_006", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What is the purpose of role assignments in Azure Lighthouse?", "ground_truth": "Role assignments specify which Azure roles (like Contributor, Reader, or custom roles) are assigned to service provider users or groups for managing delegated customer resources. They define the level of permissions each user or group has over the customer's resources.", "source": "role_assignments"}
{"id": "al_007", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What does just-in-time (JIT) access provide in Azure Lighthouse?", "ground_truth": "Just-in-time access allows service providers to request temporary elevated permissions for managing customer resources. Access is granted for a limited time period and must be approved, reducing the risk of standing privileged access.", "source": "just_in_time_access"}
{"id": "al_008", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What is the primary benefit of using Azure Policy with Azure Lighthouse?", "ground_truth": "Azure Policy allows service providers to enforce consistent governance policies across delegated customer resources. Policies can be applied at scale to ensure compliance and standardization across multiple customer tenants.", "source": "azure_policy"}
{"id": "al_009", "domain": "azure_lighthouse", "difficulty": "easy", "question": "How does Azure Monitor support Azure Lighthouse deployments?", "ground_truth": "Azure Monitor enables service providers to monitor and analyze logs from delegated customer resources across multiple tenants from a single dashboard. This provides centralized visibility and alerting for customer resource health and performance.", "source": "azure_monitor"}
{"id": "al_010", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What is an ARM template used for in Azure Lighthouse onboarding?", "ground_truth": "ARM templates are used to automate the deployment and configuration of delegated resource management. They define the authorization rules, role assignments, and customer resources that will be delegated to the service provider.", "source": "arm_templates"}
{"id": "al_011", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What advantage do Bicep templates offer over ARM templates in Azure Lighthouse?", "ground_truth": "Bicep templates provide a more readable and maintainable syntax compared to ARM templates' JSON. They reduce complexity and make it easier to author and understand infrastructure-as-code for Azure Lighthouse deployments.", "source": "bicep_templates"}
{"id": "al_012", "domain": "azure_lighthouse", "difficulty": "easy", "question": "In a multi-tenant architecture, what entity acts as the managing tenant in Azure Lighthouse?", "ground_truth": "The service provider acts as the managing tenant, controlling access and managing resources across multiple customer tenants. Each customer is a separate tenant that delegates permissions to the service provider's tenant.", "source": "multi_tenant_architecture"}
{"id": "al_013", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What is a critical security best practice when onboarding customers to Azure Lighthouse?", "ground_truth": "Using the principle of least privilege is critical\u2014service providers should assign only the minimum necessary roles and permissions required to perform their management tasks. This limits potential damage from compromised accounts.", "source": "security_best_practices"}
{"id": "al_014", "domain": "azure_lighthouse", "difficulty": "easy", "question": "Can a customer revoke Azure Lighthouse delegated access at any time?", "ground_truth": "Yes, customers can revoke delegated access to the service provider at any time. The customer retains full control and can remove the service provider's permissions by deleting the delegated resource assignment.", "source": "access_control"}
{"id": "al_015", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What does the Azure Lighthouse activity log track?", "ground_truth": "The activity log tracks all actions performed by service provider users on delegated customer resources. This provides an audit trail showing who performed what actions and when, supporting compliance and security monitoring.", "source": "audit_and_monitoring"}
{"id": "al_016", "domain": "azure_lighthouse", "difficulty": "easy", "question": "Which Azure resource type represents a delegated customer subscription in Azure Lighthouse?", "ground_truth": "A delegated subscription is represented as a resource within the service provider's management group or subscription structure. It allows the service provider to manage the customer subscription using Azure Resource Manager (ARM).", "source": "resource_management"}
{"id": "al_017", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What is the difference between a service provider and a managed service provider in Azure Lighthouse context?", "ground_truth": "A service provider is any organization managing customer resources via Azure Lighthouse. A managed service provider (MSP) is specifically a service provider that offers managed services as their primary business model.", "source": "terminology"}
{"id": "al_018", "domain": "azure_lighthouse", "difficulty": "easy", "question": "Can Azure Lighthouse delegations include resource groups, subscriptions, or management groups?", "ground_truth": "Yes, Azure Lighthouse supports delegation at all three levels: individual resource groups, entire subscriptions, or management groups. This allows flexible scoping based on the service provider's management needs.", "source": "delegation_scope"}
{"id": "al_019", "domain": "azure_lighthouse", "difficulty": "easy", "question": "What is the primary purpose of using service principal accounts in Azure Lighthouse?", "ground_truth": "Service principal accounts enable automated and programmatic access to delegated customer resources. They allow service providers to perform management tasks through applications and scripts without human user intervention.", "source": "service_principals"}
{"id": "al_020", "domain": "azure_lighthouse", "difficulty": "easy", "question": "How does Azure Lighthouse help service providers scale their operations?", "ground_truth": "Azure Lighthouse enables service providers to manage resources across multiple customer tenants from a single console without customer credential sharing. This allows scaling of operations while maintaining security and centralized control, reducing operational overhead.", "source": "scalability"}
{"id": "al_021", "domain": "azure_lighthouse", "difficulty": "medium", "question": "When using Azure Lighthouse delegated resource management, what is the primary difference between using Azure AD groups versus individual user principals for role assignments?", "ground_truth": "Azure AD groups provide better scalability and maintainability for large-scale management, allowing service providers to update permissions by modifying group membership without redeploying templates. Individual user principals offer more granular control but require template updates when personnel changes occur.", "source": "role_assignments_and_access_control"}
{"id": "al_022", "domain": "azure_lighthouse", "difficulty": "medium", "question": "Explain how Azure Lighthouse's delegated resource management interacts with Azure RBAC when a service provider needs to assign the Contributor role to manage multiple customer subscriptions.", "ground_truth": "The service provider's Azure AD users are granted RBAC roles (like Contributor) at the delegated scope in the customer's tenant through the ARM or Bicep template deployment. These roles apply only to the delegated resources and don't grant access to the service provider's own resources, maintaining proper isolation.", "source": "delegated_resource_management"}
{"id": "al_023", "domain": "azure_lighthouse", "difficulty": "medium", "question": "What is the relationship between managed services offers on Azure Marketplace and ARM template deployment in Azure Lighthouse onboarding?", "ground_truth": "A managed services offer is the Marketplace listing that presents the service provider's offer to customers, but the actual delegation of resources occurs through ARM template deployment. The offer links to the template that performs the delegated resource group or subscription onboarding when the customer accepts.", "source": "managed_services_offers_and_marketplace"}
{"id": "al_024", "domain": "azure_lighthouse", "difficulty": "medium", "question": "Why might a service provider choose to use Bicep templates instead of ARM templates for Azure Lighthouse deployments, considering both technical and operational factors?", "ground_truth": "Bicep templates offer more readable, concise syntax that reduces template complexity and maintenance overhead, making it easier to manage multiple delegations and role assignments. They compile to ARM templates, ensuring compatibility while improving developer experience and reducing errors in template authoring.", "source": "bicep_templates_and_infrastructure_as_code"}
{"id": "al_025", "domain": "azure_lighthouse", "difficulty": "medium", "question": "How does just-in-time (JIT) access in Azure Lighthouse enhance security compared to permanent role assignments, and what is a potential trade-off?", "ground_truth": "JIT access limits the time window during which elevated permissions are available, reducing the attack surface and exposure time. The trade-off is increased operational complexity, as access requests and approvals add latency to management tasks, which may impact response times for critical operations.", "source": "just_in_time_access"}
{"id": "al_026", "domain": "azure_lighthouse", "difficulty": "medium", "question": "When implementing multi-tenant architecture with Azure Lighthouse, what considerations should guide the decision between subscription-level delegation versus resource group-level delegation?", "ground_truth": "Subscription-level delegation grants access to all resources in a subscription and is simpler to manage, while resource group-level delegation provides finer control and better isolation for customers with diverse workloads. Choose based on your customer's complexity, security requirements, and the scope of management needed.", "source": "multi_tenant_architecture"}
{"id": "al_027", "domain": "azure_lighthouse", "difficulty": "medium", "question": "Describe how Azure Policy integration with Azure Lighthouse allows service providers to enforce governance across customer tenants, and name a specific use case.", "ground_truth": "Service providers can assign Azure Policies to delegated resources to enforce compliance standards across customer subscriptions. A use case is enforcing that all storage accounts use encryption at rest and HTTPS, or ensuring all VMs use approved OS images across multiple customer environments.", "source": "azure_policy_governance"}
{"id": "al_028", "domain": "azure_lighthouse", "difficulty": "medium", "question": "What is the purpose of the 'principalId' and 'roleDefinitionId' parameters in an Azure Lighthouse ARM template, and how do they interact?", "ground_truth": "The 'principalId' identifies the Azure AD user, group, or service principal receiving access, while 'roleDefinitionId' specifies the RBAC role being assigned. Together, they establish the role assignment that grants the principal specific permissions over the delegated resources.", "source": "arm_templates"}
{"id": "al_029", "domain": "azure_lighthouse", "difficulty": "medium", "question": "In a multi-tenant scenario, how does Azure Lighthouse prevent unauthorized access between different customers' delegated resources?", "ground_truth": "Azure Lighthouse respects Azure RBAC scope boundaries\u2014role assignments are restricted to the specific delegated resources defined in the template. Each customer's delegation is isolated; a service provider's access to Customer A's resources does not grant access to Customer B's resources unless explicitly delegated separately.", "source": "security_best_practices"}
{"id": "al_030", "domain": "azure_lighthouse", "difficulty": "medium", "question": "What are the implications of using the 'Owner' role versus 'Contributor' role in Azure Lighthouse delegations, from a security and operational perspective?", "ground_truth": "The Owner role grants full permissions including ability to modify role assignments and delete resources, posing higher security risk; Contributor allows resource management without permission changes. Use Owner sparingly and prefer Contributor or more specific roles following least privilege principles to minimize blast radius of compromised credentials.", "source": "role_assignments_and_security"}
{"id": "al_031", "domain": "azure_lighthouse", "difficulty": "medium", "question": "How can a service provider use Azure Monitor with Azure Lighthouse to aggregate monitoring and alerting across multiple customer subscriptions?", "ground_truth": "Service providers can use Log Analytics workspaces in their own tenant to collect logs and metrics from delegated customer resources via diagnostic settings and agents. This enables centralized monitoring, cross-tenant analytics, and consolidated alerting without exposing individual customer data.", "source": "azure_monitor_integration"}
{"id": "al_032", "domain": "azure_lighthouse", "difficulty": "medium", "question": "When removing a customer's delegation from Azure Lighthouse, what must the service provider verify to ensure a clean offboarding?", "ground_truth": "The service provider must verify that all access tokens and credentials have expired or been revoked, remove any policies or monitoring configurations deployed to the customer, and ensure no residual infrastructure or dependencies remain. The customer should also confirm they can manage their resources independently.", "source": "delegation_lifecycle_management"}
{"id": "al_033", "domain": "azure_lighthouse", "difficulty": "medium", "question": "Explain how Azure Active Directory (Azure AD) is the authentication foundation for Azure Lighthouse cross-tenant access, and why this design matters.", "ground_truth": "Azure AD provides the identity and access control layer that verifies the service provider's users before granting delegated access to customer resources. This design ensures that only authenticated, properly authorized service provider identities can manage customer resources, and all actions are tied to verifiable identities for auditing.", "source": "azure_active_directory_authentication"}
{"id": "al_034", "domain": "azure_lighthouse", "difficulty": "medium", "question": "What is the difference between a managed service offer in Azure Marketplace that requires customer acceptance versus one with automatic delegation, and when would you use each?", "ground_truth": "Accepted offers require the customer to approve the delegation through Azure portal, giving them visibility and control; automatic delegation (in some scenarios) skips this step. Use accepted offers for transparency and compliance; use automatic where pre-established relationships allow streamlined onboarding.", "source": "managed_services_offers"}
{"id": "al_035", "domain": "azure_lighthouse", "difficulty": "medium", "question": "In an ARM template for Azure Lighthouse delegation, what is the significance of the 'mspOfferName' parameter, and how does it relate to customer discovery of the offer?", "ground_truth": "The 'mspOfferName' parameter identifies the managed service offer in Azure Marketplace and is used when customers search for the service provider's offer. It creates a link between the deployment template and the Marketplace listing, enabling customers to find and accept the offer through the portal.", "source": "managed_services_offers_and_arm_templates"}
{"id": "al_036", "domain": "azure_lighthouse", "difficulty": "medium", "question": "How does Azure Lighthouse support a scenario where different service providers need to manage different aspects of a customer's infrastructure (e.g., one for networking, another for security)?", "ground_truth": "Multiple service providers can be delegated to the same subscription or resource groups with different roles and scopes via separate ARM templates. Each delegation is independent; role assignments are scoped to specific resources, allowing fine-grained management separation while the customer retains ownership.", "source": "multi_tenant_architecture"}
{"id": "al_037", "domain": "azure_lighthouse", "difficulty": "medium", "question": "What auditing and compliance mechanisms are available when using Azure Lighthouse to ensure service provider actions on customer resources are tracked and compliant?", "ground_truth": "Azure Activity Log records all delegated actions with service provider identities, and Azure Audit Logs in customer tenants show access events. Service providers can also use Azure Monitor and Azure Policy to enforce compliance standards and track policy violations across delegated resources.", "source": "security_and_compliance_auditing"}
{"id": "al_038", "domain": "azure_lighthouse", "difficulty": "medium", "question": "Why might a service provider need to use a custom role definition instead of built-in Azure roles when setting up Azure Lighthouse delegations?", "ground_truth": "Custom roles allow service providers to grant only the minimum permissions necessary for their specific management tasks, adhering to least privilege principles. This is useful when built-in roles like Contributor or Reader are too broad or don't align with the specific operations the service provider needs to perform.", "source": "role_assignments_and_least_privilege"}
{"id": "al_039", "domain": "azure_lighthouse", "difficulty": "medium", "question": "Describe a scenario where combining Azure Lighthouse delegation with Azure Policy creates a governance advantage that neither could achieve alone.", "ground_truth": "A service provider can delegate management to customer subscriptions and simultaneously enforce Azure Policies that require all resources to be tagged, encrypted, and monitored. This ensures both operational control and policy compliance are applied consistently without relying solely on customer enforcement.", "source": "azure_lighthouse_and_policy_integration"}
{"id": "al_040", "domain": "azure_lighthouse", "difficulty": "medium", "question": "When using Bicep templates for Azure Lighthouse, how would you parameterize role definitions to support multiple different delegations without duplicating template code?", "ground_truth": "Define role assignments as an array parameter in the Bicep template, allowing you to pass different roles, principals, and scopes at deployment time. This enables a single template to be reused across multiple delegations with different configurations, improving maintainability and reducing duplication.", "source": "bicep_templates_best_practices"}
{"id": "al_041", "domain": "azure_lighthouse", "difficulty": "hard", "question": "When delegating resources via Azure Lighthouse, a service provider uses a managed identity with Owner role on the customer's subscription. After delegation, the customer attempts to revoke access by removing the role assignment directly from IAM. What is the critical security implication, and how should access revocation be properly handled?", "ground_truth": "Direct role assignment removal bypasses Lighthouse delegation controls and creates inconsistent state between the delegated authorization and actual permissions. Proper revocation requires removing the delegation through the Lighthouse 'Delegations' blade in the customer's tenant, which atomically removes all associated role assignments and cleans up the service provider's access.", "source": "delegated_resource_management"}
{"id": "al_042", "domain": "azure_lighthouse", "difficulty": "hard", "question": "A service provider needs to enforce Azure Policies across 500+ customer subscriptions through Lighthouse without modifying existing policy definitions. The provider uses a Bicep template for onboarding. What architectural pattern should be used, and what are the constraints on cross-tenant policy assignment?", "ground_truth": "Use 'Policy as Code' with Azure Blueprints or Policy Initiatives assigned at the delegated scope, leveraging Bicep's 'scope' property to target customer subscriptions via the service provider's managed identity. Constraint: policies can only be assigned by the service provider principal if explicitly delegated with 'Microsoft.Authorization/policyAssignments/write' permission; remediation tasks must use managed identities with appropriate resource permissions.", "source": "azure_policy"}
{"id": "al_043", "domain": "azure_lighthouse", "difficulty": "hard", "question": "During onboarding via Azure Marketplace managed service offer, a customer's subscription fails delegation with error 'AuthorizationFailed: The client lacks permission to perform action Microsoft.ManagedServices/registrations/write'. What is the root cause and what prerequisite was missed?", "ground_truth": "The customer tenant lacks the 'Microsoft.ManagedServices' resource provider registration. Before publishing a Lighthouse offer, the service provider must ensure the customer executes 'Register-AzResourceProvider -ProviderNamespace Microsoft.ManagedServices' or the registration occurs automatically if the offer is properly configured with the correct publisher tenant and managed service principal IDs.", "source": "azure_marketplace"}
{"id": "al_044", "domain": "azure_lighthouse", "difficulty": "hard", "question": "A service provider implements just-in-time (JIT) access through Azure Lighthouse combined with Azure AD PIM. What is the technical limitation when using JIT with delegated resources, and how should elevated access requests be architected for audit compliance?", "ground_truth": "JIT access via Azure Bastion and Resource Groups cannot directly activate PIM-managed roles across tenant boundaries; instead, service providers must implement PIM activation in their own tenant then use Lighthouse delegation. For audit compliance, all JIT access must be logged via Azure Monitor diagnostic settings and coordinated with customer's activity logs, with request approval workflows in the service provider's tenant tied to customer approval gates.", "source": "just_in_time_access"}
{"id": "al_045", "domain": "azure_lighthouse", "difficulty": "hard", "question": "An ARM template for Lighthouse delegation includes role assignments for multiple management groups spanning two customers with overlapping resource hierarchies. The template deployment fails with 'Invalid delegated authorization scope'. What is the cause and what constraint applies?", "ground_truth": "Lighthouse delegations cannot span multiple management groups or use wildcard scopes across customer tenants in a single ARM template deployment. Each delegation must target a single scope (subscription, resource group, or management group within one customer tenant). Overlapping resources across customers require separate, non-interfering delegations with distinct principal IDs and role definitions.", "source": "arm_templates"}
{"id": "al_046", "domain": "azure_lighthouse", "difficulty": "hard", "question": "A service provider uses Bicep modules to automate Lighthouse onboarding for 50 customers. A critical security update requires rotating the service principal used for delegated access. What is the zero-downtime migration strategy, and what are the sequencing constraints?", "ground_truth": "Deploy a second Bicep template creating a new delegation with the rotated service principal in parallel, then execute both delegations before removing the old principal. The service provider must ensure no active operations are using the old principal during removal (verifiable via Azure Monitor activity logs). Sequencing constraint: new principal must have identical or more permissive roles to prevent service interruption; recommend 30-minute overlap period with dual delegation validation.", "source": "bicep_templates"}
{"id": "al_047", "domain": "azure_lighthouse", "difficulty": "hard", "question": "In a multi-tenant architecture, a service provider manages resources across 10 customer tenants using Lighthouse. An Azure Monitor alert rule in the service provider's tenant must trigger based on a metric from a delegated customer resource, but the query fails to retrieve the metric. What is the cross-tenant visibility issue and the resolution?", "ground_truth": "By default, Azure Monitor queries in the service provider's tenant cannot access customer tenant resources unless explicitly authorized. Resolution: use 'Cross Tenant Queries' with Azure Monitor's 'SubscriptionId' or 'TenantId' scoping in KQL queries, and ensure the service provider's managed identity has 'Microsoft.Insights/metrics/read' permission in the delegated scope. Alternatively, configure Log Analytics workspace in service provider tenant with customer's diagnostic settings forwarding logs.", "source": "azure_monitor"}
{"id": "al_048", "domain": "azure_lighthouse", "difficulty": "hard", "question": "A service provider publishes a Lighthouse managed service offer on Azure Marketplace with 'Plans' supporting multiple customer segments. After 50 customers onboard, the provider discovers the plan's role definition includes 'Microsoft.Authorization/roleAssignments/*' which violates internal security policy. What is the safest remediation without disrupting existing delegations?", "ground_truth": "Create a new Plan version with restricted permissions and publish as a separate plan variant. Existing delegations continue unchanged under the original plan; new customers are directed to the new plan. To migrate existing customers, use a Bicep template to re-delegate with the new principal having scoped permissions, executed in parallel with the old delegation, then decommission the old principal after validation (24-48 hour overlap recommended).", "source": "managed_services_offers"}
{"id": "al_049", "domain": "azure_lighthouse", "difficulty": "hard", "question": "A customer tenant implements Azure AD Conditional Access policies that block service providers' managed identities during off-hours. How does this interact with Lighthouse delegation, and what is the architectural workaround for continuous management operations?", "ground_truth": "Conditional Access policies apply to the service provider principal's identity even within Lighthouse delegation context. Workaround: (1) Configure CA policies to whitelist the specific managed identity/service principal by object ID with 'Exclude' conditions, or (2) use Azure Automation runbooks scheduled in the service provider's tenant that operate during allowed CA windows, or (3) implement risk-based CA policies with MFA for delegated operations rather than blanket blocks. This requires explicit agreement between provider and customer.", "source": "azure_active_directory"}
{"id": "al_050", "domain": "azure_lighthouse", "difficulty": "hard", "question": "During security hardening, a service provider wants to implement least-privilege access using custom role definitions in Lighthouse delegations. A custom role includes 'Microsoft.Compute/virtualMachines/read' but excludes '*' wildcard. The customer reports that the service provider cannot retrieve VM extension properties via PowerShell. What is the missing permission, and why does the exclusion pattern fail here?", "ground_truth": "VM extension properties require 'Microsoft.Compute/virtualMachines/extensions/read' explicitly; read-only wildcard patterns do not auto-include subresource reads. The exclusion pattern fails because custom role definitions in Lighthouse cannot use negative RBAC rules effectively\u2014all required actions must be explicitly listed. Solution: add 'Microsoft.Compute/virtualMachines/extensions/read' to the actions, or use built-in 'Virtual Machine Contributor' with explicit 'NotActions' exclusions for write operations.", "source": "role_assignments"}
